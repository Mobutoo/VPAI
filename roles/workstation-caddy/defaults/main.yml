---
# workstation-caddy — defaults

workstation_caddy_config_dir: "/opt/workstation/configs/caddy"
workstation_caddy_data_dir: "/opt/workstation/data/caddy"

# Version Caddy pinnee — format xcaddy (tag git)
# Voir https://github.com/caddyserver/caddy/releases
workstation_caddy_version: "v2.10.2"

# Go officiel (requis car Ubuntu 24.04 fournit Go 1.22 — insuffisant)
# caddy-dns/ovh v1.1.0 + Caddy v2.10.x = Go >= 1.24
# Voir https://go.dev/dl/
workstation_go_official_version: "1.24.2"

# xcaddy — outil de build Caddy custom (module dns.providers.ovh requis)
# Pinne apres premier deploy valide (2026-02-20)
workstation_xcaddy_version: "v0.4.5"
workstation_xcaddy_gopath: "/root/go"
workstation_xcaddy_gobin: "/root/go/bin"

# Subdomains pour le Pi (resolus via Split DNS Tailscale)
workstation_oc_domain: "{{ oc_subdomain | default('oc') }}.{{ domain_name }}"

# OVH API pour ACME DNS-01 (partage les credentials du prod)
# Variables definies dans main.yml : ovh_endpoint, ovh_application_key, etc.

# Caddy admin API (bind loopback uniquement)
workstation_caddy_admin_port: 2019
