# {{ ansible_managed }}
# Kaneo environment configuration

# Database (PostgreSQL — shared instance)
DATABASE_URL=postgresql://{{ kaneo_db_user }}:{{ vault_kaneo_db_password | default(postgresql_password) }}@postgresql:5432/{{ kaneo_db_name }}

# Authentication (BetterAuth — required by usekaneo/kaneo v2+)
# REX: Kaneo uses AUTH_SECRET (not BETTER_AUTH_SECRET). Min 32 chars.
AUTH_SECRET={{ vault_kaneo_better_auth_secret | default(postgresql_password) }}
KANEO_API_URL=https://{{ kaneo_subdomain_override | default('hq') }}.{{ domain_name }}
KANEO_CLIENT_URL=https://{{ kaneo_subdomain_override | default('hq') }}.{{ domain_name }}

# Server
PORT={{ kaneo_api_port }}
NODE_ENV=production

# Timezone
TZ={{ timezone }}
