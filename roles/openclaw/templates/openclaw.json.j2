{
  "gateway": {
    "mode": "local",
    "port": {{ openclaw_gateway_port }},
    "bind": "{{ openclaw_gateway_bind }}",
    "auth": {
      "mode": "token",
      "token": "${OPENCLAW_GATEWAY_TOKEN}"
    },
    "trustedProxies": ["{{ docker_network_backend_subnet }}"],
    "controlUi": {
      "enabled": true,
      "basePath": "/",
      "allowInsecureAuth": true,
      "allowedOrigins": ["https://{{ admin_subdomain }}.{{ domain_name }}"]
    }
  },
  "agents": {
    "defaults": {
      "workspace": "/home/node/.openclaw/workspace",
      "userTimezone": "{{ timezone }}",
      "model": {
        "primary": "{{ openclaw_default_model }}"
      },
      "sandbox": {
        "mode": "{{ openclaw_sandbox_mode | default('non-main') }}",
        "scope": "agent",
        "workspaceAccess": "none",
        "docker": {
          "image": "{{ openclaw_sandbox_image | default('openclaw-sandbox:bookworm-slim') }}",
          "readOnlyRoot": true,
          "tmpfs": ["/tmp", "/var/tmp", "/run"],
          "network": "none",
          "user": "1000:1000",
          "capDrop": ["ALL"],
          "pidsLimit": 256,
          "memory": "{{ openclaw_sandbox_memory | default('1g') }}",
          "cpus": {{ openclaw_sandbox_cpus | default(1) }}
        },
        "prune": {
          "idleHours": 24,
          "maxAgeDays": 7
        }
      }
    }
  },
  "models": {
    "mode": "merge",
    "providers": {
      "custom-litellm": {
        "baseUrl": "http://litellm:4000/v1",
        "apiKey": "${LITELLM_API_KEY}",
        "api": "openai-completions",
        "models": [
          {
            "id": "claude-sonnet",
            "name": "Claude Sonnet 4 (via LiteLLM)",
            "reasoning": false,
            "input": ["text"],
            "contextWindow": 200000,
            "maxTokens": 8192
          },
          {
            "id": "claude-haiku",
            "name": "Claude Haiku 4.5 (via LiteLLM)",
            "reasoning": false,
            "input": ["text"],
            "contextWindow": 200000,
            "maxTokens": 8192
          },
          {
            "id": "gpt-4o",
            "name": "GPT-4o (via LiteLLM)",
            "reasoning": false,
            "input": ["text"],
            "contextWindow": 128000,
            "maxTokens": 16384
          }
        ]
      }
    }
  },
  "tools": {
    "elevated": {
      "enabled": false
    },
    "exec": {
      "applyPatch": {
        "workspaceOnly": true
      },
      "timeoutSec": 120
    },
    "fs": {
      "workspaceOnly": true
    }
  },
{% if telegram_openclaw_bot_token | default('') | length > 0 %}
  "channels": {
    "telegram": {
      "botToken": "${TELEGRAM_BOT_TOKEN}",
{% if telegram_openclaw_chat_id | default('') | length > 0 %}
      "dmPolicy": "allowlist",
      "allowFrom": ["{{ telegram_openclaw_chat_id }}"]
{% else %}
      "dmPolicy": "pairing"
{% endif %}
    }
  },
{% endif %}
  "logging": {
    "level": "info"
  }
}
