# {{ ansible_managed }}
# n8n environment configuration

# Database
DB_TYPE=postgresdb
DB_POSTGRESDB_HOST=postgresql
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_DATABASE=n8n
DB_POSTGRESDB_USER=n8n
DB_POSTGRESDB_PASSWORD={{ postgresql_password }}

# Encryption
N8N_ENCRYPTION_KEY={{ n8n_encryption_key }}

# URLs
N8N_HOST=0.0.0.0
N8N_PORT=5678
N8N_PROTOCOL=https
WEBHOOK_URL=https://{{ domain_name }}/n8n/
N8N_EDITOR_BASE_URL=https://admin.{{ domain_name }}/n8n/

# Security
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER={{ n8n_basic_auth_user }}
N8N_BASIC_AUTH_PASSWORD={{ n8n_basic_auth_password }}

# Task Runners (v2.0 security)
N8N_RUNNERS_ENABLED=true
N8N_RUNNERS_MODE=internal

# Timezone
GENERIC_TIMEZONE={{ timezone }}
TZ={{ timezone }}

# Executions
EXECUTIONS_DATA_PRUNE=true
EXECUTIONS_DATA_MAX_AGE=168
