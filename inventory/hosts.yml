---
# inventory/hosts.yml â€” Inventaire Ansible
# Remplir avec les valeurs du wizard (PRD.md section 2)

all:
  children:
    prod:
      hosts:
        prod-server:
          ansible_host: "{{ prod_ip }}"
          ansible_port: "{{ ansible_port_override | default(prod_ssh_port) }}"
          ansible_user: "{{ prod_user }}"
          target_env: "prod"
          prod_ssh_port_target: "{{ prod_ssh_port }}"

    preprod:
      hosts:
        preprod-server:
          ansible_host: "{{ preprod_ip | default('127.0.0.1') }}"
          ansible_port: 22
          ansible_user: "root"
          target_env: "preprod"

    vpn:
      hosts:
        vpn-server:
          ansible_host: "{{ vpn_headscale_ip }}"
          ansible_port: 22
          ansible_user: "{{ prod_user }}"
          target_env: "vpn"

    workstation:
      hosts:
        workstation-pi:
          ansible_host: "{{ workstation_pi_ip | default('127.0.0.1') }}"
          ansible_port: 22
          ansible_user: "{{ workstation_pi_user | default('pi') }}"
          ansible_become_pass: "{{ workstation_pi_become_pass | default('') }}"
          target_env: "workstation"

    app_prod:
      hosts:
        app-prod-server:
          ansible_host: "{{ app_prod_ip | default('127.0.0.1') }}"
          ansible_port: 22
          ansible_user: "root"
          target_env: "app_prod"

  vars:
    ansible_python_interpreter: /usr/bin/python3
