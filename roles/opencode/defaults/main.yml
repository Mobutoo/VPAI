---
# opencode — defaults

opencode_port: 3456
opencode_install_dir: "/opt/workstation/opencode"
opencode_workspace_dir: "/home/{{ workstation_pi_user | default('pi') }}/projects"
opencode_config_dir: "/opt/workstation/configs/opencode"

# Utilisateur systeme (I1 fix — evite les inline | default('pi') repetes)
opencode_user: "{{ workstation_pi_user | default('pi') }}"

# LiteLLM proxy (accessible via Tailscale mesh)
opencode_litellm_base_url: "https://{{ litellm_subdomain }}.{{ domain_name }}/v1"
opencode_litellm_api_key: "{{ litellm_master_key }}"
opencode_default_model: "claude-sonnet"

# Version npm pinnee (C6 fix — validee 2026-02-20)
opencode_npm_version: "1.2.15"

# Systemd service
opencode_service_name: "opencode"

# npm global install prefix — NodeSource installe dans /usr sur Ubuntu 24.04
opencode_npm_prefix: "/usr"
