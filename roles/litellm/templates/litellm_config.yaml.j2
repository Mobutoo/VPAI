# {{ ansible_managed }}
# LiteLLM configuration

model_list:
  - model_name: "claude-sonnet"
    litellm_params:
      model: "anthropic/claude-sonnet-4-20250514"
      api_key: "os.environ/ANTHROPIC_API_KEY"
      max_tokens: 8192
    model_info:
      max_input_tokens: 200000
      max_output_tokens: 8192

  - model_name: "claude-haiku"
    litellm_params:
      model: "anthropic/claude-haiku-4-5-20251001"
      api_key: "os.environ/ANTHROPIC_API_KEY"
      max_tokens: 8192

  - model_name: "gpt-4o"
    litellm_params:
      model: "openai/gpt-4o"
      api_key: "os.environ/OPENAI_API_KEY"

  - model_name: "gpt-4o-mini"
    litellm_params:
      model: "openai/gpt-4o-mini"
      api_key: "os.environ/OPENAI_API_KEY"

  - model_name: "default"
    litellm_params:
      model: "anthropic/claude-sonnet-4-20250514"
      api_key: "os.environ/ANTHROPIC_API_KEY"

litellm_settings:
  drop_params: true
  set_verbose: false
  num_retries: 2
  request_timeout: 120
  fallbacks:
    - model: "claude-sonnet"
      fallback: ["gpt-4o"]
  cache: true
  cache_params:
    type: "redis"
    host: "redis"
    port: 6379
    password: "{{ redis_password }}"

general_settings:
  master_key: "{{ litellm_master_key }}"
  database_url: "postgresql://litellm:{{ postgresql_password }}@postgresql:5432/litellm"
  alerting:
    - "webhook"
  alerting_args:
    webhook_url: "{{ notification_webhook_url }}"
